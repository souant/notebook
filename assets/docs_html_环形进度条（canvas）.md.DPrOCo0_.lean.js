import{k as _,o as D,c as B,I as q,l as d,a as u,a3 as P}from"./chunks/framework.ymtTkBEb.js";const b={id:"canvas2",width:"300",height:"300",style:{margin:"0 auto"}},W={__name:"dashboard-progress",setup(x){_(()=>{o(50,{canvas:document.querySelector("#canvas2"),lineWidth:10})});function o(s,h){if(h&&Object.prototype.toString.call(h)!=="[object Object]"){console.error("options is not object value");return}const l={canvas:document.querySelector("#canvas"),size:200,lineWidth:20,sR:.8*Math.PI,eR:2.2*Math.PI,baseColor:"#e1e1e1",coverColor:"#fe4d43",textFont:"40px PT Sans"},i=Object.assign({},l,h),{canvas:a,sR:n,eR:k}=i;if(n<Math.PI/2||n>=3/2*Math.PI)return;let p=a.getContext("2d"),y=a.width,c=a.height,F=(k-n)/100;const E={...i,ctx:p,cWidth:y,cHeight:c,step:F};let t=0;function r(e){window.requestAnimationFrame(()=>{t++,!(t>s)&&A(t,e,()=>{r(e)})})}r(E)}function A(s,h,l){const{ctx:i,cWidth:a,cHeight:n,size:k,sR:p,eR:y,step:c,baseColor:F,coverColor:E,lineWidth:t,textFont:r}=h;let e=p+s*c;i.clearRect(0,0,a,n),g({ctx:i,x:a/2,y:n/2,r:k/2,sRadian:p,eRadian:y,color:F,lineWidth:t}),g({ctx:i,x:a/2,y:n/2,r:k/2,sRadian:p,eRadian:e,color:E,lineWidth:t});let C=2*Math.PI-e,v=Math.cos(C)*k/2+a/2,R=-Math.sin(C)*k/2+n/2;g({ctx:i,x:v,y:R,r:2,sRadian:0,eRadian:2*Math.PI,color:E,lineWidth:t*1.25});let m=s+"%";f({ctx:i,x:a/2,y:n/2+15,text:m,fillStyle:E,font:r}),l()}function g({ctx:s,x:h,y:l,r:i,sRadian:a,eRadian:n,color:k,lineWidth:p}){s.beginPath(),s.lineCap="round",s.strokeStyle=k,s.lineWidth=p,s.arc(h,l,i,a,n,!1),s.stroke()}function f({ctx:s,x:h,y:l,text:i,fillStyle:a,font:n}){s.fillStyle=a,s.font=n;let k=s.measureText(i).width;s.fillText(i,h-k/2,l)}return(s,h)=>(D(),B("canvas",b))}},w=d("h1",{id:"实现一个环形进度条",tabindex:"-1"},[u("实现一个环形进度条 "),d("a",{class:"header-anchor",href:"#实现一个环形进度条","aria-label":'Permalink to "实现一个环形进度条"'},"​")],-1),S=d("h2",{id:"示例",tabindex:"-1"},[u("示例 "),d("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1),M=P("",2),I=JSON.parse('{"title":"实现一个环形进度条","description":"","frontmatter":{},"headers":[],"relativePath":"docs/html/环形进度条（canvas）.md","filePath":"docs/html/环形进度条（canvas）.md"}'),O={name:"docs/html/环形进度条（canvas）.md"},j=Object.assign(O,{setup(x){return(o,A)=>(D(),B("div",null,[w,S,q(W),M]))}});export{I as __pageData,j as default};
