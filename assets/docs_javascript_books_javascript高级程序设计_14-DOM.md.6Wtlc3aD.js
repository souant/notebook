import{_ as i,c as s,o as e,a3 as a}from"./chunks/framework.ymtTkBEb.js";const u=JSON.parse('{"title":"DOM","description":"","frontmatter":{},"headers":[],"relativePath":"docs/javascript/books/javascript高级程序设计/14-DOM.md","filePath":"docs/javascript/books/javascript高级程序设计/14-DOM.md"}'),t={name:"docs/javascript/books/javascript高级程序设计/14-DOM.md"},l=a(`<h1 id="dom" tabindex="-1">DOM <a class="header-anchor" href="#dom" aria-label="Permalink to &quot;DOM&quot;">​</a></h1><p>文档对象模型（DOM，Document Object Model）是 HTML 和 XML 文档的编程接口</p><p>DOM 表示由多层节点构成的文档，通过它开发者可以添加、删除和修改页面的各个部分</p><h2 id="dom-节点层级" tabindex="-1">DOM 节点层级 <a class="header-anchor" href="#dom-节点层级" aria-label="Permalink to &quot;DOM 节点层级&quot;">​</a></h2><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Sample Page&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Hello World!&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="node-document" tabindex="-1">Node &amp; Document <a class="header-anchor" href="#node-document" aria-label="Permalink to &quot;Node &amp; Document&quot;">​</a></h2><p>以下是 DOM 节点类型常量</p><ol><li><code>Node.ELEMENT_NODE</code> 元素节点</li><li><code>Node.ATTRIBUTE_NODE</code> 属性节点</li><li><code>Node.TEXT_NODE</code> 文本节点</li><li><code>Node.CDATA_SECTION_NODE</code> XML 中特有的 CDATA 区块，只在 XML 文档中有效, <code>&lt;![CDATA[This is some content.]]&gt;</code></li><li><code>Node.ENTITY_REFERENCE_NODE </code></li><li><code>Node.ENTITY_NODE</code></li><li><code>Node.PROCESSING_INSTRUCTION_NODE</code></li><li><code>Node.COMMENT_NODE</code> 注释节点，<code>&lt;!-- A comment --&gt;</code></li><li><code>Node.DOCUMENT_NODE</code></li><li><code>Node.DOCUMENT_TYPE_NODE </code> DocumentType 类型的节点包含文档的文档类型信息，</li><li><code>Node.DOCUMENT_FRAGMENT_NODE</code> DocumentFragment 类型是唯一一个在标记中没有对应表示的类型， document.createDocumentFragment()创建</li><li><code>Node.NOTATION_NODE</code></li></ol><h3 id="node" tabindex="-1">Node <a class="header-anchor" href="#node" aria-label="Permalink to &quot;Node&quot;">​</a></h3><ul><li><code>dom.nodeType</code> 返回 dom 节点的类型</li><li><code>dom.nodeName</code> 返回 dom 节点的标签名</li><li><code>dom.childNodes</code> 返回该 dom 下的子节点 DOM 列表，是一个 NodeList 实例</li><li><code>dom.parentNode</code> 返回该节点的父节点 DOM</li><li><code>dom.previousSibling</code> 返回该节点相邻的上一个节点 DOM，该节点是第一个节点，返回 null</li><li><code>dom.nextSibling</code> 返回该节点相邻的下一个节点 DOM，该节点是最后一个节点，返回 null</li><li><code>dom.firstChild</code> 返回子节点的第一个，没有子节点，返回 null</li><li><code>dom.lastChild</code> 返回子节点的最后一个，没有子节点，返回 null</li><li><code>dom.appendChild(childNode)</code> 在该节点的子节点末尾添加一个子节点</li><li><code>dom.insertBefore(childNode, 插入位置子节点)</code> 插入位置子节点不传，将子节点插入到末尾</li><li><code>dom.replaceChild(newNode, replaceNode)</code> 替换子节点</li><li><code>dom.removeChild(childNode)</code> 删除子节点</li><li><code>dom.cloneNode(是否深度clone)</code> 克隆节点</li><li><code>dom.getAttribute(&#39;attrName&#39;)</code> 获取节点属性值</li><li><code>dom.setAttribute(attrName, attrValue)</code> 设置节点属性值</li><li><code>dom.removeAttribute(attrName)</code> 移除属性</li></ul><h3 id="document" tabindex="-1">Document <a class="header-anchor" href="#document" aria-label="Permalink to &quot;Document&quot;">​</a></h3><ul><li><code>document.doctype</code> 取得对&lt;!doctype&gt;的引用</li><li><code>document.documentElement</code> 获取<code>&lt;html&gt;</code>引用</li><li><code>document.head</code> 获取<code>&lt;head&gt;</code>引用</li><li><code>document.body</code> 获取<code>&lt;body&gt;</code>引用</li><li><code>document.title</code> 获取文档标题内容，也可以修改</li><li><code>document.URL</code> 获取文档 URL</li><li><code>document.domain</code> 获取文档域名</li><li><code>document.referrer</code> 获取文档来源</li><li><code>document.anchors</code> 获取文档中所有带 name 属性的<code>&lt;a&gt;</code>元素</li><li><code>document.links</code> 获取文档中所有带 href 属性的<code>&lt;a&gt;</code>元素</li><li><code>document.applets</code> 获取文档中所有<code>&lt;applet&gt;</code>元素, <code>&lt;applet&gt;</code>不再使用</li><li><code>document.forms</code> 获取文档中所有<code>&lt;form&gt;</code>元素</li><li><code>document.images</code> 获取文档中所有<code>&lt;img&gt;</code>元素</li></ul><p>创建与查询</p><ul><li><code>document.createElement(&quot;标签名&quot;)</code> 创建元素 ，</li><li>定位 DOM 获取 DOM 标签 <ol><li><code>document.getElementById(&quot;ID名&quot;)</code></li><li><code>document.getElementByClassName(&quot;类名&quot;)</code></li><li><code>document.getElementByTagName(&quot;标签名&quot;)</code></li></ol></li></ul><h2 id="mutationobserver-接口" tabindex="-1">MutationObserver 接口 <a class="header-anchor" href="#mutationobserver-接口" aria-label="Permalink to &quot;MutationObserver 接口&quot;">​</a></h2><p>MutationObserver 监听 DOM 变化</p><p>MutationObserver回调都会收到一个 MutationRecord 实例的数组，包含的信息包括发生了什么变化，以及 DOM 的哪一部分受到了影响</p><p>连续修改会生成多个 MutationRecord 实例</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> observer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MutationObserver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">mutationRecords</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mutationRecords);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(document.body, { attributes: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    addedNodes: NodeList [],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    attributeName: &quot;foo&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    attributeNamespace: null,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    nextSibling: null,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    oldValue: null,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    previousSibling: null</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    removedNodes: NodeList [],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    target: body</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    type: &quot;attributes&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 终止执行回调</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">disconnect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>MutationObserverInit 与观察范围</p><ul><li><p><code>subtree</code> 布尔值，表示除了目标节点，是否观察目标节点的子树（后代）如果是 false，则只观察目标节点的变化； 如果是 true，则观察目标节点及其整个子树 默认为 false</p></li><li><p><code>attributes</code> 布尔值，表示是否观察目标节点的属性变化 默认为 false</p></li><li><p><code>attributeFilter</code> 字符串数组，表示要观察哪些属性的变化 把这个值设置为 true 也会将 attributes 的值转换为 true 默认为观察所有属性</p></li><li><p><code>attributeOldValue</code> 布尔值，表示 <code>MutationRecord</code> 是否记录变化之前的属性值 把这个值设置为 true 也会将 attributes 的值转换为 true 默认为 false</p></li><li><p><code>characterData</code> 布尔值，表示修改字符数据是否触发变化事件默认为 false</p></li><li><p><code>characterDataOldValue</code> 布尔值，表示 MutationRecord 是否记录变化之前的字符数据 把这个值设置为 true 也会将 characterData 的值转换为 true 默认为 false</p></li><li><p><code>childList</code> 布尔值，表示修改目标节点的子节点是否触发变化事件 默认为 false</p></li></ul><p>参考：<a href="./../../others/MutationObserver.html">MutationObserver</a></p>`,22),n=[l];function o(d,h,p,c,k,r){return e(),s("div",null,n)}const g=i(t,[["render",o]]);export{u as __pageData,g as default};
