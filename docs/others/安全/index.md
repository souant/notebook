# 安全

## 前端安全

### 1. SQL注入

SQL 注入漏洞（SQL Injection）是 Web 开发中最常见的一种安全漏洞。

> 主要是利用前端表单提交，比如输入框、富文本框，输入sql语句提交到后端，当后端服务通过提交的字段拼接成sql语句进行数据库查询的时候，恶意sql被执行，从而达到攻击的目的

防御措施：
- 转义过滤用户的输入的某些 sql 关键字，如`select、from、and、or`等。
- 使用ORM框架如MyBatis，减少sql的手动拼接。


### 2. XSS跨站点脚本攻击

> XSS 的原理是恶意攻击者往 Web 页面里插入恶意可执行网页脚本代码，当用户浏览该页之时，嵌入其中 Web 里面的脚本代码会被执行，从而可以达到攻击者盗取用户信息或其他侵犯用户安全隐私的目的

> XSS 一般分为`存储型`、`反射型`和 `DOM 型`。

防御措施：

- 尽量少使用 .innerHTML、.outerHTML、document.write()，如果用 Vue/React 技术栈，尽量少使用 v-html/dangerouslySetInnerHTML 功能。如果一定要使用的话一定要避免在字符串中拼接不可信数据，把用户输入的 & < > " ' / 等字符转义掉。

- 设置cookie为HttpOnly。被设置了httpOnly的cookie字段无法通过JS获取，也就降低了XSS攻击时用户凭据隐私泄漏的风险。

- 开启CSP防护。内容安全策略（CSP）的设计就是为了防御XSS攻击的，通过在HTTP头部或meta中设置Content-Security-Policy，就可以配置该策略。

### 3. CSRF 跨站点请求伪造

> CSRF 攻击指的是跨站请求伪造攻击，攻击者诱导用户进入一个第三方网站，然后该网站向被攻击网站发送跨站请求。如果用户在被攻击网站中保存了登录状态，那么攻击者就可以利用这个登录状态，绕过后台的用户验证，冒充用户向服务器执行一些操作

类型：
1. GET类型的CSRF
2. POST类型的CSRF
3. 链接类型的CSRF

防御措施：

CSRF 攻击的本质是利用了 cookie 会在同源请求中携带发送给服务器的特点，以此来实现用户的冒充

- 阻止不明外域的访问
  - 同源检测
  - Samesite Cookie
- 提交时要求附加本域才能获取的信息
  - CSRF Token
  - 双重Cookie验证


### 4. DDOS 分布式拒绝服务攻击

DDOS攻击准确来说其实不属于前端范畴，这里我们还是来介绍下，算是前端开发需要了解的一个东西吧

> DDoS(Distributed Denial of Service)即分布式拒绝服务攻击，是目前最为强大、最难以防御的攻击方式之一。要理解DDos，得先从DoS说起。最基本的DoS攻击就是利用合理的客户端请求来占用过多的服务器资源，从而使合法用户无法得到服务器的响应。DDoS攻击手段是在传统的DoS攻击基础之上产生的一类攻击方式，传统的DoS攻击一般是采用一对一的方式，当攻击目标的CPU速度、内存或者网络带宽等各项性能指标不高的情况下，它的效果是明显的。

